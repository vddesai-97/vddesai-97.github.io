comments:
  allowedFields:
    - name
    - message
    - replying_to

  requiredFields:
    - name
    - message

  branch: main
  path: "_data/comments/{options.slug}"
  filename: "comment-{@timestamp}"
  format: yaml
  commitMessage: "New comment"

  generatedFields:
    date:
      type: date
      options:
        format: iso8601

    _id:
      type: uuid

    _parent:
      type: string
      options:
        template: "{% if fields.replying_to %}{fields.replying_to}{% else %}comment-{@timestamp}{% endif %}"

  moderation: false

  reCaptcha:
    enabled: true
    siteKey: 6LeqyygsAAAAAIfTagez7L83zj7ulPfl4Z9szd2E
    secret: iaz1P7Kp+5jXhdIkZFJwkF8lOXUwjy5yavpJX2GSBvR1wzpQV1tyYeJ1GWdERqh8JZKSShh0XePaECacdsGsqbSSioBItvudClwwCTYHUxTy5lFKH2vhKYbWfGXJo1uJ6NgeQ3ODZpiHuw7r1mmidv4AlV/WoVHecd10yHhMhJHx/uJzhXKMH8X11HIeclFfbDLG1vLP6its1F3pTLBZILsJyDt1YBXrEfc28luRkQtBuDHSKHljVAJMBU/R/M7UmgVcoY1rnPpd12sVVtkdglAKtX/EAflBUNWTyCHnU292iMJXtDT3btbbeVxrR8cCoo5/9BnPoIdNUjn2vXsPZ3MGXCNWHP5WCce467Ulb9iwPnFS4G5P2a6pJtoTWNrKtMIZ5/O1LsS3w0ltjzvd94sDjlN4BrVlInOm8T/8TRHRNwYrg9FiS1DhEftcDdS2ac1toEFqhhnyyGJQ/t0tJd4JNQNVV5hXTmX1KMM9DgKKknP9JiauIURlXQU83jsRs5cy/ZZ2FTSJQlxR07wW+mK6T7XDp+xtntVFnJh1vMSiB5W2K7KegQIN5bznZnN0wPUKKC/84jfWDsJ6Auox9yAtoMxuo6QoJCkw3GDf23DkaL1/e7BqnsK+Pf1z5C8D7zLpA4CLXDS9/on04B1pmuFnunFp8v4f1g/R8okPGNw=%   