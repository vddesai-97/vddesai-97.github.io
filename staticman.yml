comments:
  allowedFields:
    - name
    - message
    - replying_to

  requiredFields:
    - name
    - message

  branch: main
  path: "_data/comments/{options.slug}"
  filename: "comment-{@timestamp}"
  format: yaml
  commitMessage: "New comment"

  generatedFields:
    date:
      type: date
      options:
        format: iso8601

    _id:
      type: uuid

    _parent:
      type: string
      options:
        template: "{% if fields.replying_to %}{fields.replying_to}{% else %}comment-{@timestamp}{% endif %}"

  moderation: false

  reCaptcha:
    enabled: true
    siteKey: 6LdnbkosAAAAAFtojtx9s1wcpqPUe0LLlOM2aE53
    secret: 0UuxEZikX17Vhb8TOrv4IsxgSoS9wpTNP5k6fH8BI2j8195qLa73nOzjkpyd9wJuqN55uTYTIiajPw6OPJUcg0UVlXg57A+JeksBZ22gsqGbZlZQpPg2I6sls9TMl2uPVIs08N6uDuCed7vnrTwcjFIgYSn/hVw87n5wIjX3Y7ZiZTmR6xApnZKw26wc4kRdSSWMr9YrB58UQJUNuNG5sxkZYoYGDqr0kKrMZe6CkZulUfPLI6Ip9STJvGrdIngHhRcPwI9q3NAUlYVvZRg/RTs9nSDhUsdB5AtGuEQ85a4w7LzEPdlZpxZG3Xo01JWJPSpguZ1DJnl3T/1SXkionpUMk+7m044GOem52k4ZF/rORCLq2OZi1qwdBl/GgJFB3dz49kyYPa6m/+WJbAMb00siVF8/+4xpxfkerNSUytBC1x+FuF+mbaNxXWN0Ns+0e7WZWCCsGcjf9JToEPhq1crtiz9D07oRoWaVYcHTIk0qALjbNF+BxVNJ2Njxn25OnWoXYb/FGUbyE0fwHdYJs3nEWxuq8C9dXSc4+ohkHe+fesUu1/58g7q2wbltcqwfcMABIwfhGEObokKYb4+IB5ubhB5rtW+kNjVWrrJ8QBQ5Z5WPJ8gfX9/pXeE5Ocb0sx9N8U4KObjHVwpc7pk2zyOcRNHLbKz8qDxZ8p3gGQ0=%